{% extends '::base.html.twig' %}

{% form_theme form _self %}
{%- block button_widget -%}
    {%- if label is empty -%}
        {%- if label_format is not empty -%}
            {% set label = label_format|replace({
            '%name%': name,
            '%id%': id,
            }) %}
        {%- else -%}
            {% set label = name|humanize %}
        {%- endif -%}
    {%- endif -%}
    <button type="{{ type|default('button') }}" {{ block('button_attributes') }}>{{ translation_domain is same as(false) ? label|raw : label|trans({}, translation_domain)|raw }}</button>
{%- endblock button_widget -%}

{% trans_default_domain "tools" %}

{% block body %}

    {{ form_start(form) }}
        <div class="wmw-onboard col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3 col-xl-4 col-xl-offset-4">
            <div class="wmw-onboard-body">
                <h1>
                    {{ 'registration.advisor.one.title' | trans }}
                    <small>
                        {{ 'registration.advisor.one.subtitle' | trans | upper }}
                    </small>
                </h1>

                <div class="wmw-onboard-businesses row">
                    {{ form_errors(form) }}
                    {{ form_errors(form.businessPractice) }}

                    {% for key, val in form.businessPractice %}
                        <div class="wmw-iconfield col-xs-6 col-sm-4">
                            <input type="checkbox" name="businesses[]" id="business-{{ key }}"
                                   class="requiredgroup:businesses vv-gparent"/>
                            <label for="business-{{ key }}">
                                <span>
                                    <i class="icon icon--business-{{ arrayImg[val.vars.label] }}"></i><br/>
                                    {{ val.vars.label | trans }}
                                </span>
                            </label>
                        </div>
                    {% endfor %}

                </div>

                <div class="wmw-progressbar">
                    <span class="active"></span>
                    <span class="active"></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>

            </div>

            <div class="wmw-onboard-bottom">
                {% set next = '<i></i><span>' ~ form.submit.vars.label | trans ~ '</span><i></i>' %}
                {% set back = '<i></i><span>' ~ form.back.vars.label | trans ~ '</span><i></i>' %}

                {{ form_widget(form.back, {'attr': {'class': 'wmw-button wmw-button--border'}, 'label': back }) }}
                {{ form_widget(form.submit, {'attr': {'class': 'wmw-button wmw-button--green'}, 'label': next }) }}
            </div>
    {{ form_end(form) }}

    <div class="wmw-onboard-text col-md-3 col-xl-2">
        <p>
            {{ 'registration.advisor.one.how_to_label' | trans | nl2br }}
        </p>
        <p>
            {{ 'registration.advisor.one.how_to_text' | trans | nl2br }}
        </p>
    </div>
{% endblock %}
